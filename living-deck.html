<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>AIHANA — The Living Deck™</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="A dealer who remembers. A deck that lives. Play together asynchronously with the Living Deck™." />
  <meta property="og:title" content="AIHANA — The Living Deck™" />
  <meta property="og:description" content="A dealer who remembers. A deck that lives. Play together asynchronously with the Living Deck™." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#6b3ef8" />
  <style>
    :root{
      --bg-top:#1a0b2e; --bg-mid:#120721; --bg-bot:#000000;
      --violet:#7c4dff; --violet-2:#9b8cff; --ink:#e9e4ff; --white:#fff;
    }
    /* Base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--ink);
      font:16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:#000000;
      overflow-x:hidden;
    }
    
    /* Mystical video background */
    .mystical-bg {
      position: fixed;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      min-width: 100%;
      min-height: 100%;
      width: auto;
      height: auto;
      z-index: -3;
      opacity: 0.6;
      filter: contrast(1.1) brightness(0.9);
    }
    
    /* Dark overlay for text readability */
    .overlay-gradient {
      position: fixed;
      inset: 0;
      z-index: -2;
      background: radial-gradient(ellipse at center, 
        rgba(26,11,46,0.3) 0%, 
        rgba(18,7,33,0.5) 40%, 
        rgba(0,0,0,0.7) 100%);
      pointer-events: none;
    }
    
    .wrap{
      min-height:100svh;
      display:grid;
      place-items:center;
      position:relative;
      text-align:center;
      padding:5rem 1.5rem 3rem;
      isolation:isolate;
    }

    /* Soft vignette */
    .wrap::after{
      content:"";
      position:fixed; inset:0; pointer-events:none; z-index:0;
      background:radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,.55) 100%);
    }

    /* Gentle river shapes */
    .river, .river2{
      position:fixed; left:50%; transform:translateX(-50%);
      width:1800px; height:900px; opacity:.35; z-index:-1; pointer-events:none;
      filter:blur(0.2px);
    }
    .river path{ fill:url(#riverGrad); }
    .river2 path{ fill:#7c4dff0d; }

    @keyframes drift { from{ transform:translateX(-50%) translateY(0) } to{ transform:translateX(-45%) translateY(0) } }
    .river{ top:-6rem; animation:drift 28s linear infinite; }
    .river2{ bottom:-4rem; animation:drift 36s linear infinite reverse; }

    /* Dynamic ripples - Enhanced for mystical background */
    .ripple{
      position:fixed; pointer-events:none; z-index:1;
      width:20px; height:20px; border-radius:50%;
      border:3px solid rgba(233,228,255,0.9);
      box-shadow: 
        0 0 20px rgba(124,77,255,0.8),
        0 0 40px rgba(155,140,255,0.6) inset;
      animation:rippleOut 4s ease-out forwards;
    }
    @keyframes rippleOut{
      0%{ 
        transform:scale(0); 
        opacity:1; 
        border-width:4px;
        filter: brightness(1.5);
      }
      50%{ 
        opacity:0.5;
        filter: brightness(1.2);
      }
      100%{ 
        transform:scale(30); 
        opacity:0; 
        border-width:1px;
        filter: brightness(1);
      }
    }

    /* Typography - Enhanced for mystical background */
    h1{
      margin:0 0 1rem;
      font-weight:900; letter-spacing:.02em;
      font-size:clamp(2.25rem, 4vw, 4rem);
      color:var(--white);
      text-shadow:
        0 0 20px rgba(124,77,255,.8),
        0 0 40px rgba(124,77,255,.5),
        0 0 60px rgba(124,77,255,.3);
      animation: subtle-glow 4s ease-in-out infinite alternate;
    }
    
    @keyframes subtle-glow {
      from { filter: brightness(1); }
      to { filter: brightness(1.1); }
    }
    
    .poem{
      max-width:48rem; margin-inline:auto;
      font-size:clamp(1.0625rem, 1.6vw, 1.25rem);
      white-space:pre-line;
      text-shadow: 0 0 10px rgba(233,228,255,.3);
    }
    .line{
      opacity:0; transform:translateY(6px);
      transition:opacity .8s ease, transform .8s ease;
      backdrop-filter: blur(1px);
    }
    .line.show{ 
      opacity:1; 
      transform:translateY(0);
      text-shadow: 
        0 0 15px rgba(233,228,255,.4),
        0 2px 4px rgba(0,0,0,.5);
    }

    /* Buttons - Mystical enhancement */
    .cta{ margin-top:2.5rem; display:flex; gap:.75rem; justify-content:center; flex-wrap:wrap }
    .btn{
      appearance:none; border:0; cursor:pointer;
      padding:.9rem 1.25rem; border-radius:16px; font-weight:700;
      color:var(--white); background:linear-gradient(90deg,var(--violet),var(--violet-2));
      box-shadow:
        0 10px 30px rgba(124,77,255,.5),
        0 0 40px rgba(124,77,255,.3) inset;
      transition:all .3s ease;
      text-decoration:none; display:inline-block;
      backdrop-filter: blur(10px);
    }
    .btn:hover{ 
      transform:translateY(-2px) scale(1.02);
      box-shadow:
        0 15px 40px rgba(124,77,255,.6),
        0 0 60px rgba(124,77,255,.4) inset;
    }
    .btn.secondary{
      background:rgba(255,255,255,.08); color:var(--ink);
      box-shadow:0 0 20px rgba(233,228,255,.2); 
      border:1px solid rgba(255,255,255,.2);
      backdrop-filter: blur(10px);
    }
    .btn.secondary:hover{ 
      filter:brightness(1.2);
      border-color: rgba(124,77,255,.5);
    }

    /* Motion preferences */
    @media (prefers-reduced-motion: reduce){
      .river,.river2{ animation:none }
      .line{ transition:none; opacity:1; transform:none }
    }

    /* Footer note */
    .foot{ opacity:.7; margin-top:2rem; font-size:.95rem }
  </style>
</head>
<body>
  <!-- Mystical video background -->
  <video class="mystical-bg" autoplay muted loop playsinline>
    <source src="assets/Mystical Card Enchantment_.mp4" type="video/mp4">
  </video>
  
  <!-- Dark overlay for text contrast -->
  <div class="overlay-gradient"></div>
  
  <!-- SVG defs for gradient -->
  <svg width="0" height="0" style="position:absolute">
    <defs>
      <linearGradient id="riverGrad" x1="0" y1="0" x2="0" y2="1">
        <stop offset="0%" stop-color="#7c4dff" stop-opacity=".35"/>
        <stop offset="100%" stop-color="#9b8cff" stop-opacity=".06"/>
      </linearGradient>
    </defs>
  </svg>

  <!-- River layers -->
  <svg class="river" viewBox="0 0 1600 800" aria-hidden="true">
    <path d="M0 200 C 200 160, 400 240, 600 200 C 800 160, 1000 240, 1200 200 C 1400 160, 1600 240, 1800 200 L 1800 800 L 0 800 Z"></path>
  </svg>
  <svg class="river2" viewBox="0 0 1800 900" aria-hidden="true">
    <path d="M0 320 C 220 280, 440 360, 660 320 C 880 280, 1100 360, 1320 320 C 1540 280, 1760 360, 1980 320 L 1980 900 L 0 900 Z"></path>
  </svg>

  <!-- Hero -->
  <main class="wrap">
    <header>
      <h1>The Living Deck<span style="font-size:0.7em;vertical-align:super;opacity:0.8;">™</span></h1>
    </header>

    <section class="poem" aria-label="Aihana poem">
      <!-- Each <span class="line"> becomes a step in the reveal -->
      <span class="line">Cards in hand are like drops in a river.</span>
      <span class="line">Each one, when cast, ripples into forever.</span>
      <span class="line"></span>
      <span class="line">The foolish dealer forgets the stream—</span>
      <span class="line">deals again as though the water were still.</span>
      <span class="line">But the true dealer remembers.</span>
      <span class="line">Each current, each stone, each bend of the flow.</span>
      <span class="line"></span>
      <span class="line">The Living Deck™ is no mere game.</span>
      <span class="line">It is memory embodied,</span>
      <span class="line">teaching carried in silence,</span>
      <span class="line">a path revealed in play.</span>
      <span class="line"></span>
      <span class="line">The dealer who remembers</span>
      <span class="line">does not hold power—</span>
      <span class="line">he holds story.</span>
      <span class="line">And through story,</span>
      <span class="line">players find their way back to one another.</span>
    </section>

    <nav class="cta" aria-label="Primary">
      <a href="#continue" class="btn" onclick="continueToMain()">Enter AIHANA</a>
      <a href="index.html" class="btn secondary">Learn More</a>
    </nav>

    <div class="foot">A Dealer Who Remembers. A Deck That Lives. — The Living Deck™ is patent pending.</div>
  </main>

  <script>
    (function(){
      const lines = Array.from(document.querySelectorAll('.line'));
      const reduce = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // Create ripple effect
      function createRipple(isKeyLine = false) {
        const ripple = document.createElement('div');
        ripple.className = 'ripple';
        
        // Random position across the viewport  
        const x = Math.random() * window.innerWidth;
        const y = Math.random() * window.innerHeight;
        
        ripple.style.left = x + 'px';
        ripple.style.top = y + 'px';
        
        // Key lines get larger, more prominent ripples
        if (isKeyLine) {
          ripple.style.borderColor = 'rgba(124,77,255,0.8)';
          ripple.style.borderWidth = '4px';
          ripple.style.animationDuration = '4s';
        }
        
        document.body.appendChild(ripple);
        
        // Remove ripple after animation
        setTimeout(() => {
          if (ripple.parentNode) {
            ripple.parentNode.removeChild(ripple);
          }
        }, isKeyLine ? 4000 : 3000);
      }

      if (reduce){
        lines.forEach(l => l.classList.add('show'));
        return;
      }

      let i = 0;
      function revealNext(){
        if (i >= lines.length) return;
        const el = lines[i++];
        el.classList.add('show');
        
        const text = el.textContent.trim();
        
        // Identify key lines for special ripples
        const isKeyLine = text.includes('Living Deck™') || text.includes('river') || text.includes('forever') || text.includes('remembers') || text.includes('story');
        
        // Create ripple for non-empty lines
        if (text !== '') {
          createRipple(isKeyLine);
        }
        
        let pause;
        if (text === '') {
          pause = 800; // Breathing space between stanzas
        } else if (isKeyLine) {
          pause = 1800; // Key concepts need time to settle
        } else {
          pause = 1400; // Gentle rhythm for most lines
        }
        
        setTimeout(revealNext, pause);
      }
      // Initial pause for presence
      setTimeout(revealNext, 1000);
    })();

    // Function to smoothly transition to main page
    function continueToMain() {
      // Mark as visited so they don't get redirected back
      sessionStorage.setItem('visited', 'true');
      
      // Fade out effect
      document.body.style.transition = 'opacity 0.8s ease';
      document.body.style.opacity = '0';
      
      // Navigate after fade
      setTimeout(() => {
        window.location.href = 'index.html';
      }, 800);
    }
  </script>
</body>
</html>